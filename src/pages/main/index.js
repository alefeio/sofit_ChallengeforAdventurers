import React, { Component } from 'react'
import api from '../../services/api'

import { parseISO } from 'date-fns';

import './styles.css'

export default class Main extends Component {
    state = {
        prices: [{ "date": "07/01/2017", "value": 3.71 }, { "date": "13/01/2017", "value": 4.84 }, { "date": "26/01/2017", "value": 3.72 }, { "date": "27/01/2017", "value": 3.49 }, { "date": "05/02/2017", "value": 3.28 }, { "date": "20/02/2017", "value": 4.7 }, { "date": "04/03/2017", "value": 3.56 }, { "date": "12/03/2017", "value": 3.31 }, { "date": "21/03/2017", "value": 3.92 }, { "date": "27/03/2017", "value": 4.71 }, { "date": "01/04/2017", "value": 3.91 }, { "date": "03/04/2017", "value": 4.64 }, { "date": "06/04/2017", "value": 4.44 }, { "date": "10/04/2017", "value": 3.78 }, { "date": "22/04/2017", "value": 4.42 }, { "date": "24/04/2017", "value": 3.34 }, { "date": "27/04/2017", "value": 4.23 }, { "date": "01/05/2017", "value": 3.09 }, { "date": "13/05/2017", "value": 4.91 }, { "date": "17/05/2017", "value": 4.18 }, { "date": "19/05/2017", "value": 4.86 }, { "date": "31/05/2017", "value": 3.05 }, { "date": "07/06/2017", "value": 3.58 }, { "date": "17/06/2017", "value": 4.31 }, { "date": "27/06/2017", "value": 3.5 }, { "date": "11/07/2017", "value": 3.58 }, { "date": "22/07/2017", "value": 4.71 }, { "date": "23/07/2017", "value": 3.85 }, { "date": "07/08/2017", "value": 4.53 }, { "date": "14/08/2017", "value": 3.98 }, { "date": "15/08/2017", "value": 4.64 }, { "date": "27/08/2017", "value": 4.91 }, { "date": "11/09/2017", "value": 3.87 }, { "date": "22/09/2017", "value": 4.3 }, { "date": "05/10/2017", "value": 3.22 }, { "date": "12/10/2017", "value": 3.16 }, { "date": "25/10/2017", "value": 3.23 }, { "date": "07/11/2017", "value": 4.68 }, { "date": "16/11/2017", "value": 4.5 }, { "date": "30/11/2017", "value": 3.55 }, { "date": "01/12/2017", "value": 3.5 }, { "date": "04/12/2017", "value": 4.39 }, { "date": "06/12/2017", "value": 3.08 }, { "date": "12/12/2017", "value": 3.45 }, { "date": "20/12/2017", "value": 4.48 }, { "date": "04/01/2018", "value": 4.83 }, { "date": "16/01/2018", "value": 3 }, { "date": "23/01/2018", "value": 3.93 }, { "date": "03/02/2018", "value": 3.51 }, { "date": "18/02/2018", "value": 4.11 }, { "date": "26/02/2018", "value": 4.2 }, { "date": "02/03/2018", "value": 3.1 }, { "date": "05/03/2018", "value": 4.01 }, { "date": "15/03/2018", "value": 4.81 }, { "date": "29/03/2018", "value": 3.79 }, { "date": "03/04/2018", "value": 3.57 }, { "date": "11/04/2018", "value": 3.81 }, { "date": "25/04/2018", "value": 4.28 }, { "date": "07/05/2018", "value": 4.43 }, { "date": "17/05/2018", "value": 4.61 }, { "date": "28/05/2018", "value": 4.3 }, { "date": "29/05/2018", "value": 3.68 }, { "date": "04/06/2018", "value": 3.18 }, { "date": "19/06/2018", "value": 4.1 }, { "date": "01/07/2018", "value": 3.17 }, { "date": "06/07/2018", "value": 3.72 }, { "date": "17/07/2018", "value": 3.82 }, { "date": "01/08/2018", "value": 4.3 }],
        supplies: [{ "date": "08/01/2017", "value": 161.5 }, { "date": "11/01/2017", "value": 30.16 }, { "date": "12/01/2017", "value": 57.69 }, { "date": "14/01/2017", "value": 159.57 }, { "date": "15/01/2017", "value": 96.17 }, { "date": "20/01/2017", "value": 47.09 }, { "date": "21/01/2017", "value": 124.58 }, { "date": "22/01/2017", "value": 57.79 }, { "date": "24/01/2017", "value": 9.1 }, { "date": "25/01/2017", "value": 84.55 }, { "date": "28/01/2017", "value": 155.65 }, { "date": "31/01/2017", "value": 26.73 }, { "date": "02/02/2017", "value": 138.06 }, { "date": "03/02/2017", "value": 149.23 }, { "date": "04/02/2017", "value": 12.53 }, { "date": "05/02/2017", "value": 81.41 }, { "date": "07/02/2017", "value": 117.75 }, { "date": "08/02/2017", "value": 8.17 }, { "date": "09/02/2017", "value": 19.52 }, { "date": "10/02/2017", "value": 66.29 }, { "date": "12/02/2017", "value": 25.72 }, { "date": "13/02/2017", "value": 22.37 }, { "date": "17/02/2017", "value": 4.03 }, { "date": "18/02/2017", "value": 157.6 }, { "date": "19/02/2017", "value": 84.1 }, { "date": "22/02/2017", "value": 138.93 }, { "date": "24/02/2017", "value": 43.48 }, { "date": "25/02/2017", "value": 66.36 }, { "date": "01/03/2017", "value": 22.18 }, { "date": "03/03/2017", "value": 203.23 }, { "date": "04/03/2017", "value": 113.53 }, { "date": "06/03/2017", "value": 96.4 }, { "date": "08/03/2017", "value": 41.12 }, { "date": "09/03/2017", "value": 7.16 }, { "date": "10/03/2017", "value": 61.91 }, { "date": "12/03/2017", "value": 24.73 }, { "date": "13/03/2017", "value": 102.11 }, { "date": "14/03/2017", "value": 129.85 }, { "date": "15/03/2017", "value": 88.77 }, { "date": "16/03/2017", "value": 3.31 }, { "date": "17/03/2017", "value": 83.54 }, { "date": "18/03/2017", "value": 105.19 }, { "date": "24/03/2017", "value": 147.08 }, { "date": "26/03/2017", "value": 66.76 }, { "date": "28/03/2017", "value": 161.03 }, { "date": "29/03/2017", "value": 128.06 }, { "date": "30/03/2017", "value": 184.11 }, { "date": "01/04/2017", "value": 7.98 }, { "date": "03/04/2017", "value": 86.07 }, { "date": "04/04/2017", "value": 14.11 }, { "date": "06/04/2017", "value": 128.98 }, { "date": "09/04/2017", "value": 124.63 }, { "date": "11/04/2017", "value": 69.36 }, { "date": "12/04/2017", "value": 90.91 }, { "date": "13/04/2017", "value": 127.05 }, { "date": "14/04/2017", "value": 86.41 }, { "date": "15/04/2017", "value": 15.54 }, { "date": "16/04/2017", "value": 36.29 }, { "date": "17/04/2017", "value": 65.92 }, { "date": "18/04/2017", "value": 73.14 }, { "date": "20/04/2017", "value": 50.73 }, { "date": "22/04/2017", "value": 101.88 }, { "date": "23/04/2017", "value": 12.99 }, { "date": "25/04/2017", "value": 28.26 }, { "date": "27/04/2017", "value": 150.55 }, { "date": "28/04/2017", "value": 92.38 }, { "date": "30/04/2017", "value": 114.21 }, { "date": "01/05/2017", "value": 77.06 }, { "date": "03/05/2017", "value": 92.51 }, { "date": "05/05/2017", "value": 27.32 }, { "date": "06/05/2017", "value": 63.19 }, { "date": "07/05/2017", "value": 104.63 }, { "date": "09/05/2017", "value": 30.56 }, { "date": "10/05/2017", "value": 48.54 }, { "date": "12/05/2017", "value": 51.73 }, { "date": "14/05/2017", "value": 67.22 }, { "date": "16/05/2017", "value": 165.32 }, { "date": "20/05/2017", "value": 122.91 }, { "date": "21/05/2017", "value": 93.46 }, { "date": "22/05/2017", "value": 82.47 }, { "date": "24/05/2017", "value": 153.14 }, { "date": "25/05/2017", "value": 113.19 }, { "date": "26/05/2017", "value": 170.97 }, { "date": "27/05/2017", "value": 136.32 }, { "date": "28/05/2017", "value": 64.3 }, { "date": "30/05/2017", "value": 71.64 }, { "date": "01/06/2017", "value": 83.94 }, { "date": "02/06/2017", "value": 14.15 }, { "date": "04/06/2017", "value": 127.22 }, { "date": "06/06/2017", "value": 49.99 }, { "date": "07/06/2017", "value": 24.49 }, { "date": "11/06/2017", "value": 79.26 }, { "date": "12/06/2017", "value": 160.74 }, { "date": "14/06/2017", "value": 170.66 }, { "date": "18/06/2017", "value": 88.14 }, { "date": "19/06/2017", "value": 68.62 }, { "date": "21/06/2017", "value": 27.15 }, { "date": "24/06/2017", "value": 153.18 }, { "date": "25/06/2017", "value": 42.02 }, { "date": "26/06/2017", "value": 100.47 }, { "date": "28/06/2017", "value": 84.25 }, { "date": "29/06/2017", "value": 84.35 }, { "date": "01/07/2017", "value": 47.01 }, { "date": "02/07/2017", "value": 111.62 }, { "date": "03/07/2017", "value": 41.27 }, { "date": "04/07/2017", "value": 28.74 }, { "date": "05/07/2017", "value": 27.23 }, { "date": "06/07/2017", "value": 39.76 }, { "date": "07/07/2017", "value": 14.32 }, { "date": "08/07/2017", "value": 39.17 }, { "date": "09/07/2017", "value": 29.33 }, { "date": "10/07/2017", "value": 115.22 }, { "date": "11/07/2017", "value": 26.85 }, { "date": "12/07/2017", "value": 26.03 }, { "date": "15/07/2017", "value": 89.39 }, { "date": "16/07/2017", "value": 74.82 }, { "date": "18/07/2017", "value": 35.05 }, { "date": "20/07/2017", "value": 14.39 }, { "date": "21/07/2017", "value": 60.57 }, { "date": "22/07/2017", "value": 161.36 }, { "date": "23/07/2017", "value": 56.02 }, { "date": "24/07/2017", "value": 36.15 }, { "date": "25/07/2017", "value": 141.76 }, { "date": "27/07/2017", "value": 48.78 }, { "date": "28/07/2017", "value": 56.06 }, { "date": "30/07/2017", "value": 15.98 }, { "date": "31/07/2017", "value": 148.65 }, { "date": "01/08/2017", "value": 57.9 }, { "date": "02/08/2017", "value": 23.99 }, { "date": "07/08/2017", "value": 105.5 }, { "date": "09/08/2017", "value": 58.21 }, { "date": "10/08/2017", "value": 174 }, { "date": "12/08/2017", "value": 5.84 }, { "date": "15/08/2017", "value": 155.49 }, { "date": "16/08/2017", "value": 49.51 }, { "date": "17/08/2017", "value": 165.14 }, { "date": "19/08/2017", "value": 72.71 }, { "date": "20/08/2017", "value": 99.57 }, { "date": "21/08/2017", "value": 70.3 }, { "date": "22/08/2017", "value": 69.83 }, { "date": "23/08/2017", "value": 171.08 }, { "date": "24/08/2017", "value": 37.21 }, { "date": "25/08/2017", "value": 91.87 }, { "date": "26/08/2017", "value": 46.31 }, { "date": "27/08/2017", "value": 47.38 }, { "date": "30/08/2017", "value": 121.72 }, { "date": "02/09/2017", "value": 45.47 }, { "date": "03/09/2017", "value": 46.1 }, { "date": "06/09/2017", "value": 133.21 }, { "date": "08/09/2017", "value": 15.61 }, { "date": "09/09/2017", "value": 108.81 }, { "date": "10/09/2017", "value": 56.37 }, { "date": "13/09/2017", "value": 60.14 }, { "date": "15/09/2017", "value": 142.76 }, { "date": "16/09/2017", "value": 60.37 }, { "date": "17/09/2017", "value": 21.36 }, { "date": "19/09/2017", "value": 11.8 }, { "date": "20/09/2017", "value": 33.86 }, { "date": "23/09/2017", "value": 190.75 }, { "date": "24/09/2017", "value": 120.06 }, { "date": "25/09/2017", "value": 56.5 }, { "date": "29/09/2017", "value": 221.19 }, { "date": "03/10/2017", "value": 185.03 }, { "date": "05/10/2017", "value": 38.96 }, { "date": "07/10/2017", "value": 108 }, { "date": "09/10/2017", "value": 56.64 }, { "date": "10/10/2017", "value": 22.44 }, { "date": "12/10/2017", "value": 35.39 }, { "date": "14/10/2017", "value": 80.39 }, { "date": "16/10/2017", "value": 41.9 }, { "date": "19/10/2017", "value": 102.89 }, { "date": "21/10/2017", "value": 12.32 }, { "date": "24/10/2017", "value": 24.02 }, { "date": "25/10/2017", "value": 32.17 }, { "date": "26/10/2017", "value": 157.2 }, { "date": "28/10/2017", "value": 47.42 }, { "date": "29/10/2017", "value": 14.66 }, { "date": "31/10/2017", "value": 93.02 }, { "date": "03/11/2017", "value": 123.58 }, { "date": "05/11/2017", "value": 29.81 }, { "date": "08/11/2017", "value": 141.01 }, { "date": "09/11/2017", "value": 103.71 }, { "date": "11/11/2017", "value": 18.02 }, { "date": "12/11/2017", "value": 56.82 }, { "date": "14/11/2017", "value": 104.41 }, { "date": "15/11/2017", "value": 150.37 }, { "date": "16/11/2017", "value": 207.5 }, { "date": "17/11/2017", "value": 146.48 }, { "date": "19/11/2017", "value": 123.21 }, { "date": "21/11/2017", "value": 20.03 }, { "date": "23/11/2017", "value": 46.04 }, { "date": "25/11/2017", "value": 112.95 }, { "date": "26/11/2017", "value": 18 }, { "date": "01/12/2017", "value": 142.63 }, { "date": "03/12/2017", "value": 70.77 }, { "date": "04/12/2017", "value": 54.83 }, { "date": "06/12/2017", "value": 113.68 }, { "date": "07/12/2017", "value": 78.72 }, { "date": "08/12/2017", "value": 55.62 }, { "date": "10/12/2017", "value": 103 }, { "date": "11/12/2017", "value": 112.91 }, { "date": "14/12/2017", "value": 91.74 }, { "date": "16/12/2017", "value": 100.84 }, { "date": "19/12/2017", "value": 18.11 }, { "date": "21/12/2017", "value": 41.44 }, { "date": "22/12/2017", "value": 113.7 }, { "date": "24/12/2017", "value": 158.41 }, { "date": "25/12/2017", "value": 56.31 }, { "date": "26/12/2017", "value": 19.89 }, { "date": "28/12/2017", "value": 2.02 }, { "date": "29/12/2017", "value": 82.3 }, { "date": "30/12/2017", "value": 127.55 }, { "date": "31/12/2017", "value": 187.76 }, { "date": "01/01/2018", "value": 29.12 }, { "date": "03/01/2018", "value": 21.95 }, { "date": "04/01/2018", "value": 32.7 }, { "date": "07/01/2018", "value": 159.58 }, { "date": "09/01/2018", "value": 232.95 }, { "date": "12/01/2018", "value": 135.29 }, { "date": "15/01/2018", "value": 222.52 }, { "date": "16/01/2018", "value": 77.25 }, { "date": "17/01/2018", "value": 60.48 }, { "date": "18/01/2018", "value": 15 }, { "date": "20/01/2018", "value": 151.17 }, { "date": "21/01/2018", "value": 37.68 }, { "date": "22/01/2018", "value": 61.98 }, { "date": "23/01/2018", "value": 76.64 }, { "date": "24/01/2018", "value": 9.24 }, { "date": "26/01/2018", "value": 36.43 }, { "date": "30/01/2018", "value": 138.93 }, { "date": "01/02/2018", "value": 57.89 }, { "date": "02/02/2018", "value": 137.83 }, { "date": "03/02/2018", "value": 80.17 }, { "date": "05/02/2018", "value": 160.79 }, { "date": "07/02/2018", "value": 12.71 }, { "date": "08/02/2018", "value": 51.74 }, { "date": "09/02/2018", "value": 115.9 }, { "date": "11/02/2018", "value": 40.93 }, { "date": "13/02/2018", "value": 6.98 }, { "date": "14/02/2018", "value": 115.3 }, { "date": "15/02/2018", "value": 13.3 }, { "date": "17/02/2018", "value": 86.31 }, { "date": "18/02/2018", "value": 15.7 }, { "date": "19/02/2018", "value": 57.25 }, { "date": "20/02/2018", "value": 177.06 }, { "date": "23/02/2018", "value": 58.36 }, { "date": "24/02/2018", "value": 121 }, { "date": "25/02/2018", "value": 115.86 }, { "date": "26/02/2018", "value": 85.64 }, { "date": "28/02/2018", "value": 147.25 }, { "date": "01/03/2018", "value": 19.78 }, { "date": "03/03/2018", "value": 81.53 }, { "date": "04/03/2018", "value": 33.48 }, { "date": "10/03/2018", "value": 43.39 }, { "date": "12/03/2018", "value": 100.45 }, { "date": "13/03/2018", "value": 115.89 }, { "date": "14/03/2018", "value": 14.92 }, { "date": "15/03/2018", "value": 3.85 }, { "date": "16/03/2018", "value": 15.39 }, { "date": "17/03/2018", "value": 54.4 }, { "date": "20/03/2018", "value": 181.34 }, { "date": "21/03/2018", "value": 14.72 }, { "date": "22/03/2018", "value": 195.72 }, { "date": "23/03/2018", "value": 242.14 }, { "date": "25/03/2018", "value": 94.66 }, { "date": "26/03/2018", "value": 94.32 }, { "date": "28/03/2018", "value": 62.58 }, { "date": "30/03/2018", "value": 85.73 }, { "date": "01/04/2018", "value": 16.22 }, { "date": "03/04/2018", "value": 166.36 }, { "date": "04/04/2018", "value": 93.46 }, { "date": "07/04/2018", "value": 164.18 }, { "date": "09/04/2018", "value": 101.28 }, { "date": "11/04/2018", "value": 30.02 }, { "date": "13/04/2018", "value": 12.34 }, { "date": "14/04/2018", "value": 181.51 }, { "date": "16/04/2018", "value": 105.54 }, { "date": "17/04/2018", "value": 27.01 }, { "date": "19/04/2018", "value": 47.17 }, { "date": "21/04/2018", "value": 156.36 }, { "date": "22/04/2018", "value": 82.83 }, { "date": "25/04/2018", "value": 185.07 }, { "date": "27/04/2018", "value": 71.69 }, { "date": "29/04/2018", "value": 22.94 }, { "date": "30/04/2018", "value": 58.59 }, { "date": "01/05/2018", "value": 65.83 }, { "date": "03/05/2018", "value": 93.48 }, { "date": "04/05/2018", "value": 1.75 }, { "date": "05/05/2018", "value": 138.67 }, { "date": "08/05/2018", "value": 177.47 }, { "date": "10/05/2018", "value": 58.12 }, { "date": "11/05/2018", "value": 26.09 }, { "date": "12/05/2018", "value": 39.03 }, { "date": "13/05/2018", "value": 149.78 }, { "date": "16/05/2018", "value": 59.98 }, { "date": "17/05/2018", "value": 154.48 }, { "date": "19/05/2018", "value": 13.23 }, { "date": "20/05/2018", "value": 105.34 }, { "date": "21/05/2018", "value": 114.1 }, { "date": "22/05/2018", "value": 116.45 }, { "date": "23/05/2018", "value": 29.55 }, { "date": "24/05/2018", "value": 35.91 }, { "date": "26/05/2018", "value": 64.68 }, { "date": "27/05/2018", "value": 101.97 }, { "date": "29/05/2018", "value": 136.49 }, { "date": "31/05/2018", "value": 168.84 }, { "date": "01/06/2018", "value": 123.32 }, { "date": "02/06/2018", "value": 12.48 }, { "date": "03/06/2018", "value": 142.56 }, { "date": "04/06/2018", "value": 46.81 }, { "date": "05/06/2018", "value": 111.78 }, { "date": "13/06/2018", "value": 77.08 }, { "date": "14/06/2018", "value": 23.95 }, { "date": "15/06/2018", "value": 1.43 }, { "date": "16/06/2018", "value": 22.1 }, { "date": "17/06/2018", "value": 4.07 }, { "date": "19/06/2018", "value": 125.58 }, { "date": "20/06/2018", "value": 81.67 }, { "date": "22/06/2018", "value": 147.52 }, { "date": "24/06/2018", "value": 9.88 }, { "date": "25/06/2018", "value": 114.72 }, { "date": "27/06/2018", "value": 102.17 }, { "date": "01/07/2018", "value": 21.81 }, { "date": "02/07/2018", "value": 111.39 }, { "date": "04/07/2018", "value": 30.97 }, { "date": "05/07/2018", "value": 36.87 }, { "date": "08/07/2018", "value": 20.24 }, { "date": "09/07/2018", "value": 109.11 }, { "date": "13/07/2018", "value": 94.67 }, { "date": "15/07/2018", "value": 86.75 }, { "date": "17/07/2018", "value": 8.17 }, { "date": "18/07/2018", "value": 15.93 }, { "date": "19/07/2018", "value": 73.08 }],
        spents: [{ "date": "08/01/2017", "value": 22.5 }, { "date": "09/01/2017", "value": 1 }, { "date": "10/01/2017", "value": 297.3 }, { "date": "11/01/2017", "value": 16.3 }, { "date": "12/01/2017", "value": 180 }, { "date": "14/01/2017", "value": 409.5 }, { "date": "16/01/2017", "value": 32 }, { "date": "19/01/2017", "value": 124.6 }, { "date": "20/01/2017", "value": 153.7 }, { "date": "21/01/2017", "value": 154.5 }, { "date": "23/01/2017", "value": 203.1 }, { "date": "24/01/2017", "value": 86.6 }, { "date": "25/01/2017", "value": 17.6 }, { "date": "27/01/2017", "value": 115.1 }, { "date": "28/01/2017", "value": 207.5 }, { "date": "31/01/2017", "value": 22.3 }, { "date": "01/02/2017", "value": 268.6 }, { "date": "02/02/2017", "value": 464.5 }, { "date": "03/02/2017", "value": 349.7 }, { "date": "04/02/2017", "value": 100.9 }, { "date": "06/02/2017", "value": 113.1 }, { "date": "07/02/2017", "value": 63.1 }, { "date": "08/02/2017", "value": 467.3 }, { "date": "09/02/2017", "value": 48.2 }, { "date": "10/02/2017", "value": 20.1 }, { "date": "11/02/2017", "value": 167.5 }, { "date": "12/02/2017", "value": 80.3 }, { "date": "16/02/2017", "value": 92.8 }, { "date": "17/02/2017", "value": 18.8 }, { "date": "18/02/2017", "value": 435.5 }, { "date": "19/02/2017", "value": 83.4 }, { "date": "20/02/2017", "value": 21.8 }, { "date": "22/02/2017", "value": 10.8 }, { "date": "23/02/2017", "value": 133.4 }, { "date": "24/02/2017", "value": 407.5 }, { "date": "26/02/2017", "value": 19.9 }, { "date": "28/02/2017", "value": 102.9 }, { "date": "02/03/2017", "value": 16.8 }, { "date": "03/03/2017", "value": 395 }, { "date": "04/03/2017", "value": 208.8 }, { "date": "05/03/2017", "value": 168.1 }, { "date": "07/03/2017", "value": 32.8 }, { "date": "08/03/2017", "value": 26.8 }, { "date": "09/03/2017", "value": 294.9 }, { "date": "10/03/2017", "value": 13.4 }, { "date": "11/03/2017", "value": 12.3 }, { "date": "12/03/2017", "value": 140.8 }, { "date": "13/03/2017", "value": 415.7 }, { "date": "14/03/2017", "value": 439.6 }, { "date": "15/03/2017", "value": 262 }, { "date": "16/03/2017", "value": 55.2 }, { "date": "17/03/2017", "value": 54.9 }, { "date": "18/03/2017", "value": 178 }, { "date": "21/03/2017", "value": 139.1 }, { "date": "22/03/2017", "value": 29.6 }, { "date": "23/03/2017", "value": 33.5 }, { "date": "24/03/2017", "value": 98.1 }, { "date": "25/03/2017", "value": 390.1 }, { "date": "28/03/2017", "value": 523.7 }, { "date": "29/03/2017", "value": 237.7 }, { "date": "30/03/2017", "value": 57.4 }, { "date": "01/04/2017", "value": 153.8 }, { "date": "02/04/2017", "value": 204.4 }, { "date": "03/04/2017", "value": 20.4 }, { "date": "04/04/2017", "value": 48.4 }, { "date": "05/04/2017", "value": 39.8 }, { "date": "06/04/2017", "value": 19.6 }, { "date": "07/04/2017", "value": 176.8 }, { "date": "08/04/2017", "value": 70.3 }, { "date": "09/04/2017", "value": 188.3 }, { "date": "10/04/2017", "value": 178.1 }, { "date": "11/04/2017", "value": 205.3 }, { "date": "12/04/2017", "value": 198.4 }, { "date": "13/04/2017", "value": 166.7 }, { "date": "14/04/2017", "value": 6.3 }, { "date": "15/04/2017", "value": 458.8 }, { "date": "16/04/2017", "value": 84.5 }, { "date": "17/04/2017", "value": 61.7 }, { "date": "18/04/2017", "value": 190.7 }, { "date": "19/04/2017", "value": 127.8 }, { "date": "20/04/2017", "value": 73.8 }, { "date": "23/04/2017", "value": 105.2 }, { "date": "24/04/2017", "value": 204.5 }, { "date": "25/04/2017", "value": 34.7 }, { "date": "26/04/2017", "value": 9.5 }, { "date": "27/04/2017", "value": 426.9 }, { "date": "28/04/2017", "value": 6.7 }, { "date": "29/04/2017", "value": 217.2 }, { "date": "30/04/2017", "value": 189.6 }, { "date": "01/05/2017", "value": 284.8 }, { "date": "02/05/2017", "value": 61.6 }, { "date": "03/05/2017", "value": 49 }, { "date": "05/05/2017", "value": 104.8 }, { "date": "06/05/2017", "value": 442.4 }, { "date": "09/05/2017", "value": 413.9 }, { "date": "11/05/2017", "value": 22.8 }, { "date": "12/05/2017", "value": 136.2 }, { "date": "15/05/2017", "value": 159 }, { "date": "16/05/2017", "value": 127.9 }, { "date": "17/05/2017", "value": 74.9 }, { "date": "19/05/2017", "value": 184 }, { "date": "20/05/2017", "value": 335.9 }, { "date": "22/05/2017", "value": 279.4 }, { "date": "23/05/2017", "value": 136 }, { "date": "24/05/2017", "value": 323.4 }, { "date": "25/05/2017", "value": 75.2 }, { "date": "26/05/2017", "value": 486.8 }, { "date": "28/05/2017", "value": 342.1 }, { "date": "29/05/2017", "value": 65.9 }, { "date": "30/05/2017", "value": 75.9 }, { "date": "31/05/2017", "value": 86.6 }, { "date": "01/06/2017", "value": 24 }, { "date": "02/06/2017", "value": 178.3 }, { "date": "03/06/2017", "value": 94.9 }, { "date": "04/06/2017", "value": 87.8 }, { "date": "05/06/2017", "value": 349.8 }, { "date": "06/06/2017", "value": 55.3 }, { "date": "07/06/2017", "value": 93 }, { "date": "10/06/2017", "value": 41.1 }, { "date": "11/06/2017", "value": 227.4 }, { "date": "12/06/2017", "value": 389.1 }, { "date": "13/06/2017", "value": 58.5 }, { "date": "14/06/2017", "value": 95.7 }, { "date": "15/06/2017", "value": 204.8 }, { "date": "17/06/2017", "value": 42.5 }, { "date": "18/06/2017", "value": 359.1 }, { "date": "21/06/2017", "value": 52.5 }, { "date": "22/06/2017", "value": 19.3 }, { "date": "23/06/2017", "value": 119.6 }, { "date": "24/06/2017", "value": 385.4 }, { "date": "25/06/2017", "value": 131.8 }, { "date": "26/06/2017", "value": 129.4 }, { "date": "27/06/2017", "value": 81.7 }, { "date": "28/06/2017", "value": 43.7 }, { "date": "29/06/2017", "value": 65 }, { "date": "30/06/2017", "value": 317.9 }, { "date": "01/07/2017", "value": 135.7 }, { "date": "02/07/2017", "value": 221.3 }, { "date": "03/07/2017", "value": 262.5 }, { "date": "04/07/2017", "value": 10 }, { "date": "05/07/2017", "value": 3.9 }, { "date": "06/07/2017", "value": 86.3 }, { "date": "08/07/2017", "value": 107.1 }, { "date": "09/07/2017", "value": 222 }, { "date": "10/07/2017", "value": 283.3 }, { "date": "11/07/2017", "value": 45.6 }, { "date": "12/07/2017", "value": 117.6 }, { "date": "15/07/2017", "value": 388.9 }, { "date": "16/07/2017", "value": 72.9 }, { "date": "17/07/2017", "value": 74.7 }, { "date": "18/07/2017", "value": 20.2 }, { "date": "19/07/2017", "value": 133.2 }, { "date": "21/07/2017", "value": 23.7 }, { "date": "22/07/2017", "value": 522.1 }, { "date": "23/07/2017", "value": 115.3 }, { "date": "24/07/2017", "value": 88.5 }, { "date": "25/07/2017", "value": 118.2 }, { "date": "26/07/2017", "value": 234.4 }, { "date": "27/07/2017", "value": 107.8 }, { "date": "30/07/2017", "value": 265 }, { "date": "31/07/2017", "value": 13.5 }, { "date": "01/08/2017", "value": 248.3 }, { "date": "02/08/2017", "value": 135.9 }, { "date": "06/08/2017", "value": 186.9 }, { "date": "07/08/2017", "value": 83.6 }, { "date": "09/08/2017", "value": 265.4 }, { "date": "10/08/2017", "value": 108.9 }, { "date": "11/08/2017", "value": 63.3 }, { "date": "12/08/2017", "value": 19 }, { "date": "13/08/2017", "value": 132.9 }, { "date": "14/08/2017", "value": 81.2 }, { "date": "16/08/2017", "value": 421.4 }, { "date": "17/08/2017", "value": 253.3 }, { "date": "18/08/2017", "value": 142.4 }, { "date": "19/08/2017", "value": 67.8 }, { "date": "20/08/2017", "value": 242.4 }, { "date": "21/08/2017", "value": 137.2 }, { "date": "22/08/2017", "value": 137.5 }, { "date": "23/08/2017", "value": 376 }, { "date": "24/08/2017", "value": 65.1 }, { "date": "26/08/2017", "value": 12.5 }, { "date": "27/08/2017", "value": 221.2 }, { "date": "29/08/2017", "value": 27 }, { "date": "30/08/2017", "value": 27.4 }, { "date": "31/08/2017", "value": 301 }, { "date": "01/09/2017", "value": 130.4 }, { "date": "02/09/2017", "value": 32.1 }, { "date": "03/09/2017", "value": 78.9 }, { "date": "04/09/2017", "value": 7.3 }, { "date": "05/09/2017", "value": 43.2 }, { "date": "06/09/2017", "value": 57 }, { "date": "07/09/2017", "value": 250.6 }, { "date": "08/09/2017", "value": 29.5 }, { "date": "09/09/2017", "value": 4.5 }, { "date": "10/09/2017", "value": 0.5 }, { "date": "13/09/2017", "value": 56.5 }, { "date": "14/09/2017", "value": 388.6 }, { "date": "15/09/2017", "value": 116.8 }, { "date": "16/09/2017", "value": 14.1 }, { "date": "17/09/2017", "value": 170 }, { "date": "19/09/2017", "value": 222.7 }, { "date": "20/09/2017", "value": 6.2 }, { "date": "21/09/2017", "value": 117 }, { "date": "22/09/2017", "value": 104.1 }, { "date": "23/09/2017", "value": 281 }, { "date": "24/09/2017", "value": 342.5 }, { "date": "25/09/2017", "value": 0.7 }, { "date": "28/09/2017", "value": 233.4 }, { "date": "29/09/2017", "value": 285 }, { "date": "01/10/2017", "value": 124.6 }, { "date": "02/10/2017", "value": 71.3 }, { "date": "03/10/2017", "value": 173.6 }, { "date": "04/10/2017", "value": 279.1 }, { "date": "06/10/2017", "value": 121.4 }, { "date": "08/10/2017", "value": 31.9 }, { "date": "09/10/2017", "value": 226.8 }, { "date": "10/10/2017", "value": 76.3 }, { "date": "11/10/2017", "value": 198.6 }, { "date": "13/10/2017", "value": 105.9 }, { "date": "15/10/2017", "value": 112.8 }, { "date": "17/10/2017", "value": 125.6 }, { "date": "18/10/2017", "value": 168.1 }, { "date": "19/10/2017", "value": 48.3 }, { "date": "20/10/2017", "value": 241.4 }, { "date": "23/10/2017", "value": 3.6 }, { "date": "24/10/2017", "value": 195 }, { "date": "25/10/2017", "value": 105.2 }, { "date": "26/10/2017", "value": 358.4 }, { "date": "27/10/2017", "value": 41.4 }, { "date": "28/10/2017", "value": 150.7 }, { "date": "30/10/2017", "value": 76 }, { "date": "31/10/2017", "value": 56.4 }, { "date": "01/11/2017", "value": 41.9 }, { "date": "02/11/2017", "value": 157.7 }, { "date": "03/11/2017", "value": 183.4 }, { "date": "04/11/2017", "value": 248.3 }, { "date": "05/11/2017", "value": 10 }, { "date": "07/11/2017", "value": 63.9 }, { "date": "08/11/2017", "value": 331.8 }, { "date": "12/11/2017", "value": 216 }, { "date": "13/11/2017", "value": 103.4 }, { "date": "14/11/2017", "value": 265.5 }, { "date": "15/11/2017", "value": 285.9 }, { "date": "16/11/2017", "value": 367.3 }, { "date": "17/11/2017", "value": 289.8 }, { "date": "18/11/2017", "value": 139.1 }, { "date": "20/11/2017", "value": 275.1 }, { "date": "22/11/2017", "value": 51.5 }, { "date": "24/11/2017", "value": 105.1 }, { "date": "25/11/2017", "value": 13 }, { "date": "26/11/2017", "value": 43.7 }, { "date": "28/11/2017", "value": 47.8 }, { "date": "29/11/2017", "value": 132.1 }, { "date": "30/11/2017", "value": 77.1 }, { "date": "01/12/2017", "value": 282.7 }, { "date": "02/12/2017", "value": 149.3 }, { "date": "03/12/2017", "value": 114.6 }, { "date": "04/12/2017", "value": 46.9 }, { "date": "05/12/2017", "value": 177.1 }, { "date": "06/12/2017", "value": 290.3 }, { "date": "07/12/2017", "value": 198.4 }, { "date": "09/12/2017", "value": 293 }, { "date": "10/12/2017", "value": 338.6 }, { "date": "11/12/2017", "value": 208.8 }, { "date": "12/12/2017", "value": 61.4 }, { "date": "13/12/2017", "value": 97.9 }, { "date": "14/12/2017", "value": 134.3 }, { "date": "15/12/2017", "value": 94.2 }, { "date": "16/12/2017", "value": 92 }, { "date": "18/12/2017", "value": 192.7 }, { "date": "19/12/2017", "value": 7.1 }, { "date": "20/12/2017", "value": 24.7 }, { "date": "21/12/2017", "value": 117.3 }, { "date": "22/12/2017", "value": 133.2 }, { "date": "23/12/2017", "value": 138 }, { "date": "24/12/2017", "value": 65.5 }, { "date": "25/12/2017", "value": 41 }, { "date": "26/12/2017", "value": 6.4 }, { "date": "27/12/2017", "value": 335.5 }, { "date": "28/12/2017", "value": 103.5 }, { "date": "29/12/2017", "value": 187.4 }, { "date": "30/12/2017", "value": 275.8 }, { "date": "31/12/2017", "value": 85.6 }, { "date": "01/01/2018", "value": 155.8 }, { "date": "02/01/2018", "value": 89.3 }, { "date": "03/01/2018", "value": 128.7 }, { "date": "04/01/2018", "value": 3.8 }, { "date": "05/01/2018", "value": 14.9 }, { "date": "06/01/2018", "value": 88.2 }, { "date": "07/01/2018", "value": 197.4 }, { "date": "08/01/2018", "value": 131.6 }, { "date": "09/01/2018", "value": 251.7 }, { "date": "11/01/2018", "value": 44.4 }, { "date": "12/01/2018", "value": 128 }, { "date": "13/01/2018", "value": 296.7 }, { "date": "14/01/2018", "value": 63 }, { "date": "15/01/2018", "value": 417.5 }, { "date": "16/01/2018", "value": 257.1 }, { "date": "17/01/2018", "value": 44.4 }, { "date": "19/01/2018", "value": 246.1 }, { "date": "20/01/2018", "value": 455 }, { "date": "21/01/2018", "value": 15.8 }, { "date": "22/01/2018", "value": 72.6 }, { "date": "23/01/2018", "value": 54.4 }, { "date": "24/01/2018", "value": 318.6 }, { "date": "26/01/2018", "value": 76.6 }, { "date": "27/01/2018", "value": 21.7 }, { "date": "29/01/2018", "value": 169 }, { "date": "30/01/2018", "value": 22.5 }, { "date": "31/01/2018", "value": 67.1 }, { "date": "01/02/2018", "value": 304.2 }, { "date": "02/02/2018", "value": 454.6 }, { "date": "03/02/2018", "value": 49.7 }, { "date": "04/02/2018", "value": 148 }, { "date": "05/02/2018", "value": 312.3 }, { "date": "06/02/2018", "value": 154.9 }, { "date": "08/02/2018", "value": 129 }, { "date": "09/02/2018", "value": 271.8 }, { "date": "10/02/2018", "value": 64.4 }, { "date": "12/02/2018", "value": 74.3 }, { "date": "13/02/2018", "value": 33 }, { "date": "14/02/2018", "value": 198.9 }, { "date": "16/02/2018", "value": 217.8 }, { "date": "17/02/2018", "value": 272.8 }, { "date": "19/02/2018", "value": 106.5 }, { "date": "20/02/2018", "value": 242.2 }, { "date": "22/02/2018", "value": 196.1 }, { "date": "23/02/2018", "value": 143.6 }, { "date": "24/02/2018", "value": 384.6 }, { "date": "26/02/2018", "value": 347.3 }, { "date": "27/02/2018", "value": 75.4 }, { "date": "28/02/2018", "value": 57.1 }, { "date": "01/03/2018", "value": 42.2 }, { "date": "02/03/2018", "value": 215.4 }, { "date": "03/03/2018", "value": 183.9 }, { "date": "07/03/2018", "value": 162.3 }, { "date": "08/03/2018", "value": 49.8 }, { "date": "09/03/2018", "value": 48.4 }, { "date": "11/03/2018", "value": 60.1 }, { "date": "12/03/2018", "value": 134.1 }, { "date": "13/03/2018", "value": 20.2 }, { "date": "14/03/2018", "value": 58.6 }, { "date": "15/03/2018", "value": 465.4 }, { "date": "16/03/2018", "value": 29.1 }, { "date": "17/03/2018", "value": 15.3 }, { "date": "19/03/2018", "value": 14.1 }, { "date": "20/03/2018", "value": 260.1 }, { "date": "21/03/2018", "value": 229.9 }, { "date": "22/03/2018", "value": 421.9 }, { "date": "23/03/2018", "value": 304.9 }, { "date": "24/03/2018", "value": 166.3 }, { "date": "25/03/2018", "value": 60.8 }, { "date": "27/03/2018", "value": 368 }, { "date": "29/03/2018", "value": 74.5 }, { "date": "30/03/2018", "value": 155.1 }, { "date": "31/03/2018", "value": 2.8 }, { "date": "01/04/2018", "value": 37.2 }, { "date": "02/04/2018", "value": 110 }, { "date": "03/04/2018", "value": 231.3 }, { "date": "04/04/2018", "value": 334.5 }, { "date": "05/04/2018", "value": 53.7 }, { "date": "06/04/2018", "value": 74.5 }, { "date": "07/04/2018", "value": 379.4 }, { "date": "08/04/2018", "value": 53.8 }, { "date": "09/04/2018", "value": 247.6 }, { "date": "10/04/2018", "value": 19.5 }, { "date": "12/04/2018", "value": 74.1 }, { "date": "13/04/2018", "value": 138.6 }, { "date": "14/04/2018", "value": 305.3 }, { "date": "15/04/2018", "value": 167.7 }, { "date": "16/04/2018", "value": 42.3 }, { "date": "17/04/2018", "value": 137.9 }, { "date": "18/04/2018", "value": 115.4 }, { "date": "19/04/2018", "value": 39.6 }, { "date": "20/04/2018", "value": 107.4 }, { "date": "21/04/2018", "value": 275.8 }, { "date": "22/04/2018", "value": 145.9 }, { "date": "23/04/2018", "value": 37.5 }, { "date": "24/04/2018", "value": 201.2 }, { "date": "25/04/2018", "value": 106.6 }, { "date": "26/04/2018", "value": 242.7 }, { "date": "27/04/2018", "value": 112.2 }, { "date": "28/04/2018", "value": 14.3 }, { "date": "29/04/2018", "value": 178.2 }, { "date": "30/04/2018", "value": 83.1 }, { "date": "03/05/2018", "value": 81.7 }, { "date": "04/05/2018", "value": 332 }, { "date": "05/05/2018", "value": 239.4 }, { "date": "07/05/2018", "value": 85.5 }, { "date": "08/05/2018", "value": 306 }, { "date": "09/05/2018", "value": 81.5 }, { "date": "11/05/2018", "value": 216.7 }, { "date": "12/05/2018", "value": 21.1 }, { "date": "13/05/2018", "value": 285.5 }, { "date": "15/05/2018", "value": 71.8 }, { "date": "17/05/2018", "value": 402.6 }, { "date": "18/05/2018", "value": 15.4 }, { "date": "19/05/2018", "value": 136 }, { "date": "20/05/2018", "value": 129.8 }, { "date": "21/05/2018", "value": 64.8 }, { "date": "22/05/2018", "value": 86.2 }, { "date": "23/05/2018", "value": 457 }, { "date": "26/05/2018", "value": 132.6 }, { "date": "28/05/2018", "value": 338 }, { "date": "29/05/2018", "value": 37.8 }, { "date": "30/05/2018", "value": 308.2 }, { "date": "31/05/2018", "value": 408.6 }, { "date": "01/06/2018", "value": 147.3 }, { "date": "02/06/2018", "value": 238.9 }, { "date": "03/06/2018", "value": 308.2 }, { "date": "04/06/2018", "value": 160.7 }, { "date": "05/06/2018", "value": 105.5 }, { "date": "09/06/2018", "value": 188.1 }, { "date": "11/06/2018", "value": 31.5 }, { "date": "12/06/2018", "value": 111 }, { "date": "13/06/2018", "value": 101.1 }, { "date": "14/06/2018", "value": 32 }, { "date": "16/06/2018", "value": 37.7 }, { "date": "17/06/2018", "value": 58.7 }, { "date": "18/06/2018", "value": 69.9 }, { "date": "19/06/2018", "value": 202.5 }, { "date": "20/06/2018", "value": 341.5 }, { "date": "21/06/2018", "value": 10.5 }, { "date": "22/06/2018", "value": 76.1 }, { "date": "23/06/2018", "value": 212.9 }, { "date": "25/06/2018", "value": 17.1 }, { "date": "26/06/2018", "value": 468.7 }, { "date": "30/06/2018", "value": 82.2 }, { "date": "01/07/2018", "value": 69.1 }, { "date": "02/07/2018", "value": 71 }, { "date": "03/07/2018", "value": 413.2 }, { "date": "04/07/2018", "value": 52.4 }, { "date": "05/07/2018", "value": 44 }, { "date": "06/07/2018", "value": 0.7 }, { "date": "07/07/2018", "value": 54.1 }, { "date": "08/07/2018", "value": 92.9 }, { "date": "09/07/2018", "value": 154.2 }, { "date": "10/07/2018", "value": 47.3 }, { "date": "12/07/2018", "value": 17 }, { "date": "13/07/2018", "value": 49.1 }, { "date": "14/07/2018", "value": 290.5 }, { "date": "16/07/2018", "value": 230.6 }, { "date": "17/07/2018", "value": 61.6 }, { "date": "18/07/2018", "value": 53.6 }, { "date": "19/07/2018", "value": 58 }],
        dataInicial: '2017-01-07',
        dataFinal: '2018-08-01',
        resultado: []
    }

    componentDidMount() {
        this.load()
    }

    load = async () => {

        const { dataInicial, dataFinal } = this.state

        let dtInicio = parseISO(dataInicial)
        let dtFim = parseISO(dataFinal)
        let saldo = 0.0
        saldo.toFixed(2)
        let result = []

        let data = dtInicio

        while (dtInicio <= dtFim) {

            let dt = data.toLocaleDateString()

            let abastecido = await this.abastecimento(dt)
            let consumido = await this.gastoCombustivel(dt)

            saldo += parseFloat(abastecido)
            saldo -= parseFloat(consumido)

            let saldo2Casas = saldo.toFixed(2)
            let saldoFloat = parseFloat(saldo2Casas)

            result.push({
                date: dt,
                value: saldoFloat
            })


            data.setDate(data.getDate() + 1)
        }

        this.setState({ resultado: result })

        console.log(this.state.resultado)

    }

    precoGasolina = async (date) => {
        const { prices } = this.state

        let data = date.split('/').reverse().join('-')

        let priceDay = await prices.filter(price => price.date.split('/').reverse().join('-') <= data)

        return priceDay.pop().value.toFixed(2)

    }

    abastecimento = async (date) => {
        const { supplies } = this.state

        let data = date.split('/').reverse().join('-')

        let valorGasolina = await this.precoGasolina(date)

        let abastData = ''

        abastData = await supplies.filter(supply => supply.date.split('/').reverse().join('-') === data)

        let litros = 0.0

        if (abastData != '') {
            litros = abastData.pop().value / valorGasolina
            return litros.toFixed(2)
        }

        return litros

    }

    gastoCombustivel = async (date) => {
        const { spents } = this.state

        let data = date.split('/').reverse().join('-')

        let percorrido = ''

        percorrido = await spents.filter(spent => spent.date.split('/').reverse().join('-') === data)

        let consumo = 0.0

        if (percorrido != '') {
            consumo = percorrido[0].value / 10
            return consumo.toFixed(2)
        }

        return consumo
    }

    sendData = async () => {
        const result = this.state.resultado

        try {
            const response = await api.post('/check?id=5e333706b519d10014bc3865', {
                result
            })
    
            if(response) alert('Enviado com sucesso!')

            console.log('result: ', result)
            
        } catch (error) {
            console.log('Erro: ', error)
        }
    }

    render() {
            const { resultado } = this.state

        return (
            <div className="container">
                <ul>
                    <li><button onClick={this.sendData}>Enviar para API</button></li>
                    {resultado.map(res => (
                        <li>
                            date: {res.date}, value: {res.value}
                        </li>
                    ))}
                </ul>
                {JSON.stringify(this.state.resultado)}
            </div>
        )
    }
}